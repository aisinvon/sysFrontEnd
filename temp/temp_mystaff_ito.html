<!DOCTYPE HTML>
<html>
    
    <head>
        <meta charset="UTF-8">
        <title>My Staff ITO</title>
        <link rel="stylesheet" type="text/css" href="./css/base.css" />
        <link rel="stylesheet" type="text/css" href="./css/pris.css" />
    </head>
    
    <body>
        <div class="pageWrapper">
            <!-- top -->
            <div class="top clearfix">
                <div class="wrap">
                    <a class="logo" href="">
                        <img src="./images/logo.png" alt="STATE STREET" />
                    </a>
                    <img class="slogan" src="./images/slogan.png" alt="State Street Hangzhou: Project Resource Information System (PRIS)" />
                </div>
            </div>
            <!-- / top -->
            <!-- nav -->
            <div class="nav">
                <div class="wrap">
                    <ul class="clearfix">
                        <!-- add class on, then that nav will be highlighted -->
                        <li>
                            <a href="./">Homepage</a>
                        </li>
                        <li class="on">
                            <a href="javascript:;">My Staff</a>
                            <!-- second level menu -->
                            <ul>
                                <li>
                                    <a href="mystaff_bpo.html">BPO</a>
                                </li>
                                <li>
                                    <a href="mystaff_ito.html">ITO</a>
                                </li>
                            </ul>
                            <!-- / second level menu -->
                        </li>
                        <li>
                            <a href="javascript:;">My Project</a>
                            <!-- second level menu -->
                            <ul>
                                <li>
                                    <a href="myproject_bpo.html">BPO</a>
                                </li>
                                <li>
                                    <a href="myproject_ito.html">ITO</a>
                                </li>
                                <li>
                                    <a href="myproject_pmo.html">PMO</a>
                                </li>
                            </ul>
                            <!-- / second level menu -->
                        </li>
                        <li>
                            <a href="javascript:;">Operation Service</a>
                            <!-- second level menu -->
                            <ul>
                                <li>
                                    <a href="javascript:;">Billing
                                        <i></i>
                                    </a>
                                    <!-- third level menu -->
                                    <ul>
                                        <li>
                                            <a href="billing_tl.html">Team Leader</a>
                                        </li>
                                        <li>
                                            <a href="billing_pm.html">PM</a>
                                        </li>
                                        <li>
                                            <a href="billing_pmo.html">PMO</a>
                                        </li>
                                    </ul>
                                    <!-- / third level menu -->
                                </li>
                                <li>
                                    <a href="javascript:;">Invoice</a>
                                </li>
                            </ul>
                            <!-- / second level menu -->
                        </li>
                        <li>
                            <a href="javascript:;">Report Center</a>
                            <!-- second level menu -->
                            <ul>
                                <li>
                                    <a href="javascript:;">Executive Dashboard/Report</a>
                                </li>
                                <li>
                                    <a href="javascript:;">Operational Report</a>
                                </li>
                                <li>
                                    <a href="javascript:;">Atrack Customized report
                                        <i></i>
                                    </a>
                                    <!-- third level menu -->
                                    <ul>
                                        <li>
                                            <a href="structure_report_01_chart.html">Structure Report</a>
                                        </li>
                                        <li>
                                            <a href="javascript:;">Atrack Report</a>
                                        </li>
                                    </ul>
                                    <!-- / third level menu -->
                                </li>
                                <li>
                                    <a href="javascript:;">Other</a>
                                </li>
                            </ul>
                            <!-- / second level menu -->
                        </li>
                    </ul>
                </div>
            </div>
            <!-- / nav -->
            <!-- main content -->
            <div class="main wrap">
                <div class="staff_pie clearfix">
                    <div class="pie_in" id="left_pie"></div>
                    <div class="pie_in" id="right_pie"></div>
                </div>
                <div class="atrack_chart">
                    <button id="chartBack_btn" class="black_btn back_btn">Back</button>
                    <div class="plot_band">
                        <span>Working Hours (h)</span>
                        <!--<span class="green">Total Hours</span>-->
                    </div>
                    <div id="atrack_chart"></div>
                </div>
                <!-- table -->
                <table id="staff_table" class="staff_table">
                    <thead>
                        <tr>
                            <!-- if the column need to be sorted, then should add property 'data-type' -->
                            <th rowspan="2">Name/ID</th>
                            <th rowspan="2">Cost Center</th>
                            <th colspan="13">OT Hours</th>
                        </tr>
                        <tr>
                            <th>Jan</th>
                            <th>Feb</th>
                            <th>Mar</th>
                            <th>Apr</th>
                            <th>May</th>
                            <th>Jun</th>
                            <th>Jul</th>
                            <th>Aug</th>
                            <th>Sep</th>
                            <th>Oct</th>
                            <th>Nov</th>
                            <th>Des</th>
                            <th class="total">Total</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>Li, Hong/P548597</td>
                            <td>3548597</td>
                            <td>176</td>
                            <td>160</td>
                            <td>177</td>
                            <td>8</td>
                            <td>99</td>
                            <td>120</td>
                            <td>30</td>
                            <td>99</td>
                            <td>66</td>
                            <td>63</td>
                            <td>80</td>
                            <td>64</td>
                            <td>37</td>
                        </tr>
                        <tr>
                            <td>Qi, Hong/P548597</td>
                            <td>1548597</td>
                            <td>171</td>
                            <td>160</td>
                            <td>177</td>
                            <td>8</td>
                            <td>99</td>
                            <td>120</td>
                            <td>30</td>
                            <td>99</td>
                            <td>66</td>
                            <td>63</td>
                            <td>80</td>
                            <td>64</td>
                            <td>37</td>
                        </tr>
                        <tr>
                            <td>Li, Hong/P548597</td>
                            <td>3548597</td>
                            <td>176</td>
                            <td>160</td>
                            <td>177</td>
                            <td>8</td>
                            <td>99</td>
                            <td>120</td>
                            <td>30</td>
                            <td>99</td>
                            <td>66</td>
                            <td>63</td>
                            <td>80</td>
                            <td>64</td>
                            <td>37</td>
                        </tr>
                        <tr>
                            <td>Qi, Hong/P548597</td>
                            <td>1548597</td>
                            <td>171</td>
                            <td>160</td>
                            <td>177</td>
                            <td>8</td>
                            <td>99</td>
                            <td>120</td>
                            <td>30</td>
                            <td>99</td>
                            <td>66</td>
                            <td>63</td>
                            <td>80</td>
                            <td>64</td>
                            <td>37</td>
                        </tr>
                        <tr>
                            <td>Li, Hong/P548597</td>
                            <td>3548597</td>
                            <td>176</td>
                            <td>160</td>
                            <td>177</td>
                            <td>8</td>
                            <td>99</td>
                            <td>120</td>
                            <td>30</td>
                            <td>99</td>
                            <td>66</td>
                            <td>63</td>
                            <td>80</td>
                            <td>64</td>
                            <td>37</td>
                        </tr>
                        <tr>
                            <td>Qi, Hong/P548597</td>
                            <td>1548597</td>
                            <td>171</td>
                            <td>160</td>
                            <td>177</td>
                            <td>8</td>
                            <td>99</td>
                            <td>120</td>
                            <td>30</td>
                            <td>99</td>
                            <td>66</td>
                            <td>63</td>
                            <td>80</td>
                            <td>64</td>
                            <td>37</td>
                        </tr>
                        <tr>
                            <td>Li, Hong/P548597</td>
                            <td>3548597</td>
                            <td>176</td>
                            <td>160</td>
                            <td>177</td>
                            <td>8</td>
                            <td>99</td>
                            <td>120</td>
                            <td>30</td>
                            <td>99</td>
                            <td>66</td>
                            <td>63</td>
                            <td>80</td>
                            <td>64</td>
                            <td>37</td>
                        </tr>
                        <tr>
                            <td>Qi, Hong/P548597</td>
                            <td>1548597</td>
                            <td>171</td>
                            <td>160</td>
                            <td>177</td>
                            <td>8</td>
                            <td>99</td>
                            <td>120</td>
                            <td>30</td>
                            <td>99</td>
                            <td>66</td>
                            <td>63</td>
                            <td>80</td>
                            <td>64</td>
                            <td>37</td>
                        </tr>
                    </tbody>
                </table>
                <!-- / table -->
            </div>
            <!-- / main content -->
            <!-- footer -->
            <div class="footer">
                <div class="wrap clearfix">
                    <a href="homepage.html" class="logo">STATE STREET</a>
                    <ul>
                        <li>
                            <a href="">SSTC</a>
                        </li>
                        <li>
                            <a href="">Atrack</a>
                        </li>
                        <li>
                            <a href="">SSHOME</a>
                        </li>
                        <li>
                            <a href="">LMS</a>
                        </li>
                        <li>
                            <a href="">Support</a>
                        </li>
                        <li>
                            <a href="">eBusiness</a>
                        </li>
                    </ul>
                </div>
            </div>
            <!-- / footer -->
            <!-- fixed elements -->
            <div class="fixed">
                <a title="Go to top" class="btn to_top" href="javascript:;">Go to top</a>
            </div>
            <!-- / fixed elements -->
            <script type="text/javascript" src="./js/jQuery.1.7.2.min.js"></script>
            <script type="text/javascript" src="./js/pris.js"></script>
            <!-- hightcharts -->
            <script type="text/javascript" src="./js/plugins/highcharts/highcharts.js"></script>
            <script type="text/javascript">
                $(function() {

                    fedPris.staff();

                    // left pie start
                    $('#left_pie').highcharts({
                        chart: {
                            type: 'pie',
                            width: 460,
                            height: 340,
                            marginTop: 5,
                            borderRadius: 0,
                            marginBottom: -30
                        },
                        credits: {
                            enabled: false
                        },
                        colors: [
                                '#c6dd72', '#AA8C30', '#8bbd3f', '#495f2b', '#fba82a', '#eca3a3', '#c3524f', '#0d233a', '#594266', '#cb6828', '#aaaaab', '#a89375'
                        ],
                        title: {
                            text: 'Resource Allocation by Title',
                            align: 'left',
                            x: 30
                        },
                        plotOptions: {
                            pie: {
                                allowPointSelect: true,
                                borderWidth: 0,
                                cursor: 'pointer',
                                showInLegend: true,
                                dataLabels: {
                                    distance: -20,
                                    color: 'white',
                                    formatter: function() {
                                        return this.y + '%';
                                    }
                                }
                            }
                        },
                        legend: {
                            width: 150,
                            align: 'right',
                            verticalAlign: 'top',
                            y: 60,
                            borderWidth: 0,
                            borderRadius: 0,
                            useHTML: true,
                            labelFormatter: function() {
                                return '<div style="width:150px; margin-left:5px;">' + this.name + ":" + this.y + '%</div>';
                            },
                            itemStyle: {
                                //                       width: '20px',
                                height: '22px',
                                borderRadius: 0

                            }
                        },
                        tooltip: {
                            pointFormat: '<b>{point.y} %</b>'
                        },
                        series: [{
                                type: 'pie',
                                data: [
                                    ['SVP', 30],
                                    ['VP', 26],
                                    ['AVP', 15],
                                    ['Officer', 10],
                                    ['Senior Associate', 8],
                                    ['A2', 6],
                                    ['A1', 5]
                                ]
                            }
                        ]
                    });
                    // left pie end

                    // right pie start
                    $('#right_pie').highcharts({
                        chart: {
                            type: 'pie',
                            width: 460,
                            height: 340,
                            marginTop: 5,
                            borderRadius: 0,
                            marginBottom: -30
                        },
                        credits: {
                            enabled: false
                        },
                        colors: [
                                '#3b7bbf', '#55c5d6', '#702d14', '#495f2b', '#fba82a', '#eca3a3', '#c3524f', '#0d233a', '#594266', '#cb6828', '#aaaaab', '#a89375'
                        ],
                        title: {
                            text: 'Resource Allocation',
                            align: 'left',
                            x: 50
                        },
                        plotOptions: {
                            pie: {
                                allowPointSelect: true,
                                borderWidth: 0,
                                cursor: 'pointer',
                                showInLegend: true,
                                dataLabels: {
                                    distance: -20,
                                    color: 'white',
                                    formatter: function() {
                                        return this.y + '%';
                                    }
                                }
                            }
                        },
                        legend: {
                            width: 150,
                            align: 'right',
                            verticalAlign: 'top',
                            y: 60,
                            borderWidth: 0,
                            borderRadius: 0,
                            useHTML: true,
                            labelFormatter: function() {
                                return '<div style="width:150px; margin-left:5px;">' + this.name + ":" + this.y + '%</div>';
                            },
                            itemStyle: {
                                //                       width: '20px',
                                height: '22px',
                                borderRadius: 0

                            }
                        },
                        tooltip: {
                            pointFormat: '<b>{point.y} %</b>'
                        },
                        series: [{
                                type: 'pie',
                                data: [
                                    ['BA', 56],
                                    ['QA/SQA', 30],
                                    ['DEV', 14]
                                ]
                            }
                        ]
                    });
                    // right pie end

                    // atrack chart (id atrack_chart) start
                    var chart;
                    var colors = Highcharts.getOptions().colors,
                        categories = ['Name1', 'Name2', 'Name3'],
                        data = [{
                                y: 60,
                                color: colors[0],
                                drilldown: {
                                    categories: ['Name11', 'Name12', 'Name13', 'Name14'],
                                    series: [{
                                            name: 'PRD',
                                            data: [10, 70, 30, 80],
                                            color: colors[0]
                                        }, {
                                            name: 'DEV',
                                            data: [90, 50, 10, 60],
                                            color: colors[1]
                                        }, {
                                            name: 'TEST',
                                            data: [60, 60, 90, 55],
                                            color: colors[2]
                                        }
                                    ]
                                }
                            }, {
                                y: 30,
                                color: colors[0],
                                drilldown: {
                                    categories: ['Name21', 'Name22', 'Name23', 'Name24', 'Name25'],
                                    series: [{
                                            name: 'PRD',
                                            data: [100, 70, 30, 80],
                                            color: colors[0]
                                        }, {
                                            name: 'DEV',
                                            data: [30, 80, 40, 45],
                                            color: colors[1]
                                        }, {
                                            name: 'TEST',
                                            data: [40, 50, 70, 65],
                                            color: colors[2]
                                        }
                                    ]
                                }
                            }, {
                                y: 40,
                                color: colors[0],
                                drilldown: {
                                    categories: ['Name31', 'Name32', 'Name33', 'Name34', 'Name35'],
                                    series: [{
                                            name: 'PRD',
                                            data: [10.85, 7.35, 33.06, 2.81],
                                            color: colors[0]
                                        }, {
                                            name: 'DEV',
                                            data: [1, 5, 10, 15],
                                            color: colors[1]
                                        }, {
                                            name: 'TEST',
                                            data: [1, 5, 10, 15],
                                            color: colors[2]
                                        }
                                    ]
                                }
                            }
                        ];

                    data2 = [{
                            y: 50,
                            color: colors[1],
                            drilldown: {
                                categories: ['Name11', 'Name12', 'Name13', 'Name14'],
                                series: [{
                                        name: 'PRD',
                                        data: [10.85, 7.35, 33.06, 2.81],
                                        color: colors[0]
                                    }, {
                                        name: 'DEV',
                                        data: [1, 5, 10, 15],
                                        color: colors[1]
                                    }, {
                                        name: 'TEST',
                                        data: [1, 5, 10, 15],
                                        color: colors[2]
                                    }
                                ]
                            }
                        }, {
                            y: 70,
                            color: colors[1],
                            drilldown: {
                                categories: ['Name21', 'Name22', 'Name23', 'Name24', 'Name25'],
                                series: [{
                                        name: 'PRD',
                                        data: [10.85, 7.35, 33.06, 2.81],
                                        color: colors[0]
                                    }, {
                                        name: 'DEV',
                                        data: [1, 5, 10, 15],
                                        color: colors[1]
                                    }, {
                                        name: 'TEST',
                                        data: [1, 5, 10, 15],
                                        color: colors[2]
                                    }
                                ]
                            }
                        }, {
                            y: 80,
                            color: colors[1],
                            drilldown: {
                                categories: ['Name31', 'Name32', 'Name33', 'Name34', 'Name35'],
                                series: [{
                                        name: 'PRD',
                                        data: [10.85, 7.35, 33.06, 2.81],
                                        color: colors[0]
                                    }, {
                                        name: 'DEV',
                                        data: [1, 5, 10, 15],
                                        color: colors[1]
                                    }, {
                                        name: 'TEST',
                                        data: [1, 5, 10, 15],
                                        color: colors[2]
                                    }
                                ]
                            }
                        }
                    ];

                    data3 = [{
                            y: 80,
                            color: colors[2],
                            drilldown: {
                                categories: ['Name11', 'Name12', 'Name13', 'Name14'],
                                series: [{
                                        name: 'PRD',
                                        data: [10.85, 7.35, 33.06, 2.81],
                                        color: colors[0]
                                    }, {
                                        name: 'DEV',
                                        data: [1, 5, 10, 15],
                                        color: colors[1]
                                    }, {
                                        name: 'TEST',
                                        data: [1, 5, 10, 15],
                                        color: colors[2]
                                    }
                                ]
                            }
                        }, {
                            y: 20,
                            color: colors[2],
                            drilldown: {
                                categories: ['Name21', 'Name22', 'Name23', 'Name24', 'Name25'],
                                series: [{
                                        name: 'PRD',
                                        data: [10.85, 7.35, 33.06, 2.81],
                                        color: colors[0]
                                    }, {
                                        name: 'DEV',
                                        data: [1, 5, 10, 15],
                                        color: colors[1]
                                    }, {
                                        name: 'TEST',
                                        data: [1, 5, 10, 15],
                                        color: colors[2]
                                    }
                                ]
                            }
                        }, {
                            y: 100,
                            color: colors[2],
                            drilldown: {
                                categories: ['Name31', 'Name32', 'Name33', 'Name34', 'Name35'],
                                series: [{
                                        name: 'PRD',
                                        data: [10.85, 7.35, 33.06, 2.81],
                                        color: colors[0]
                                    }, {
                                        name: 'DEV',
                                        data: [1, 5, 10, 15],
                                        color: colors[1]
                                    }, {
                                        name: 'TEST',
                                        data: [1, 5, 10, 15],
                                        color: colors[2]
                                    }
                                ]
                            }
                        }
                    ];

                    function setChart(name, categories, data, color) {
                        var len = chart.series.length;
                        chart.xAxis[0].setCategories(categories);
                        for (var i = 0; i < len; i++) {
                            chart.series[0].remove();
                        }
                        if (data.series) {
                            for (var i = 0; i < data.series.length; i++) {
                                chart.addSeries({
                                    name: data.series[i].name,
                                    data: data.series[i].data,
                                    color: data.series[i].color || 'white'
                                });
                            }
                        } else {
                            chart.addSeries({
                                name: name,
                                data: data,
                                color: 'white'
                            }, {
                                name: name2,
                                data: data2,
                                color: 'white'
                            }, {
                                name: name3,
                                data: data3,
                                color: 'white'
                            });
                        }
                    }

                    var options = {
                        chart: {
                            renderTo: 'atrack_chart',
                            type: 'column',
                            inverted: true,
                            marginTop: 70,
                            borderRadius: 0,
                            events: {
                                load: function(e) {
                                    $('#chartBack_btn').hide();
                                    $('<b class="add_sign">+</b>').appendTo($('.highcharts-axis-labels span'));                               
                                }
                            }
                        },
                        title: {
                            text: 'Atrack Hours'
                        },
                        credits: {
                            enabled: false
                        },
                        legend: {
                            margin: 20,
                            borderColor: '#fff'
                        },
                        xAxis: {
                            categories: categories/*,
                            labels: {
                                useHTML: true
                            }                     */    
                        },
                        yAxis: {
                            title: null,
                            max: 192,
                            tickPixelInterval: 48,
                            plotLines: [{
                                color: '#e2792c',
                                width: 1,
                                value: 80,
                                zIndex: 10,
                                dashStyle: 'ShortDash',
                                label: {
                                    text: 'Current Hours: 80',
                                    rotation: 0
                                }            
                            }, {
                                color: '#58b146',
                                width: 1,
                                value: 176,
                                zIndex: 10,
                                dashStyle: 'ShortDash',
                                label: {
                                    text: 'TotalHours: 176',
                                    rotation: 0
                                }       
                            }]
                        },
                        plotOptions: {
                            column: {
                                stacking: 'normal',
                                cursor: 'pointer',
                                point: {
                                    events: {
                                        click: function() {
                                            var drilldown = this.drilldown;
                                            // drill down
                                            if (drilldown) {                                                
                                                setChart(drilldown.name, drilldown.categories, drilldown);
                                                $('#chartBack_btn').show();
                                            } else {}
                                        }
                                    }
                                },
                                dataLabels: {
                                    enabled: true,
                                    color: 'white',
                                    style: {
                                        fontWeight: 'bold'
                                    },
                                    formatter: function() {
                                        return this.y;
                                    }
                                }
                            }
                        },
                        tooltip: {
                            formatter: function() {
                                var point = this.point,
                                    s = this.x + ':<b>' + this.y + ' hours' + '</b><br/>';
                                if (point.drilldown) {
                                    s += 'Click to view ' + point.category + ' versions';
                                } else {
                                    s += 'Click to return to browser brands';
                                }
                                return s;
                            }
                        },
                        series: [{
                                name: 'PRD',
                                data: data,
                                color: colors[0]
                            }, {
                                name: 'DEV',
                                data: data2,
                                color: colors[1]
                            }, {
                                name: 'TEST',
                                data: data3,
                                color: colors[2]
                            }
                        ],
                        exporting: {
                            enabled: false
                        }
                    }

                    chart = new Highcharts.Chart(options);

                    $('#chartBack_btn').click(function() {
                        chart = new Highcharts.Chart(options);
                        window.location.hash = 'atrack_chart';
                    });
                    // atrack chart (id atrack_chart) end                    
                });
            </script>
        </div>
    </body>

</html>